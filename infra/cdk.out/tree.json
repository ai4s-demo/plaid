{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.236.0"},"children":{"SmartCampaignDesignerAuth":{"id":"SmartCampaignDesignerAuth","path":"SmartCampaignDesignerAuth","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.236.0"},"children":{"UserPool":{"id":"UserPool","path":"SmartCampaignDesignerAuth/UserPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"SmartCampaignDesignerAuth/UserPool/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_email","priority":1}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":false},"aliasAttributes":["email"],"autoVerifiedAttributes":["email"],"emailVerificationMessage":"The verification code to your new account is {####}","emailVerificationSubject":"Verify your new account","policies":{"passwordPolicy":{"temporaryPasswordValidityDays":7,"minimumLength":8,"requireLowercase":true,"requireUppercase":true,"requireNumbers":true,"requireSymbols":false}},"schema":[{"name":"email","mutable":true,"required":true},{"name":"name","mutable":true,"required":false}],"smsVerificationMessage":"The verification code to your new account is {####}","userPoolName":"smart-campaign-designer-users","verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"The verification code to your new account is {####}","emailSubject":"Verify your new account","smsMessage":"The verification code to your new account is {####}"}}}},"WebAppClient":{"id":"WebAppClient","path":"SmartCampaignDesignerAuth/UserPool/WebAppClient","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"SmartCampaignDesignerAuth/UserPool/WebAppClient/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"accessTokenValidity":60,"allowedOAuthFlows":["implicit","code"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":["email","openid","profile"],"callbackUrLs":["http://localhost:5173/callback","http://localhost:5173/","https://*.cloudfront.net/callback","https://*.cloudfront.net/"],"clientName":"smart-campaign-designer-web","explicitAuthFlows":["ALLOW_USER_PASSWORD_AUTH","ALLOW_USER_SRP_AUTH","ALLOW_REFRESH_TOKEN_AUTH"],"generateSecret":false,"idTokenValidity":60,"logoutUrLs":["http://localhost:5173/","https://*.cloudfront.net/"],"preventUserExistenceErrors":"ENABLED","refreshTokenValidity":43200,"supportedIdentityProviders":["COGNITO"],"tokenValidityUnits":{"idToken":"minutes","accessToken":"minutes","refreshToken":"minutes"},"userPoolId":{"Ref":"UserPool6BA7E5F2"}}}}}},"CognitoDomain":{"id":"CognitoDomain","path":"SmartCampaignDesignerAuth/UserPool/CognitoDomain","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolDomain","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"SmartCampaignDesignerAuth/UserPool/CognitoDomain/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolDomain","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolDomain","aws:cdk:cloudformation:props":{"domain":"scd-62076319","userPoolId":{"Ref":"UserPool6BA7E5F2"}}}}}}}},"UserPoolId":{"id":"UserPoolId","path":"SmartCampaignDesignerAuth/UserPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"UserPoolArn":{"id":"UserPoolArn","path":"SmartCampaignDesignerAuth/UserPoolArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"AppClientId":{"id":"AppClientId","path":"SmartCampaignDesignerAuth/AppClientId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"CognitoDomain":{"id":"CognitoDomain","path":"SmartCampaignDesignerAuth/CognitoDomain","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"Region":{"id":"Region","path":"SmartCampaignDesignerAuth/Region","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"SmartCampaignDesignerAuth/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"SmartCampaignDesignerAuth/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.236.0"}}}},"Exports":{"id":"Exports","path":"SmartCampaignDesignerAuth/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Output{\"Ref\":\"UserPool6BA7E5F2\"}":{"id":"Output{\"Ref\":\"UserPool6BA7E5F2\"}","path":"SmartCampaignDesignerAuth/Exports/Output{\"Ref\":\"UserPool6BA7E5F2\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"Output{\"Ref\":\"UserPoolWebAppClientCD2D5CB1\"}":{"id":"Output{\"Ref\":\"UserPoolWebAppClientCD2D5CB1\"}","path":"SmartCampaignDesignerAuth/Exports/Output{\"Ref\":\"UserPoolWebAppClientCD2D5CB1\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"SmartCampaignDesignerAuth/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.236.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"SmartCampaignDesignerAuth/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.236.0"}}}},"SmartCampaignDesignerApp":{"id":"SmartCampaignDesignerApp","path":"SmartCampaignDesignerApp","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.236.0"},"children":{"BackendImage":{"id":"BackendImage","path":"SmartCampaignDesignerApp/BackendImage","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr_assets.DockerImageAsset","version":"2.236.0"},"children":{"Staging":{"id":"Staging","path":"SmartCampaignDesignerApp/BackendImage/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.236.0"}},"Repository":{"id":"Repository","path":"SmartCampaignDesignerApp/BackendImage/Repository","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.RepositoryBase","version":"2.236.0"}}}},"AppRunnerInstanceRole":{"id":"AppRunnerInstanceRole","path":"SmartCampaignDesignerApp/AppRunnerInstanceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"SmartCampaignDesignerApp/AppRunnerInstanceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"tasks.apprunner.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SmartCampaignDesignerApp/AppRunnerInstanceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"SmartCampaignDesignerApp/AppRunnerInstanceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"AppRunnerInstanceRoleDefaultPolicy35195718","roles":[{"Ref":"AppRunnerInstanceRole96A5A063"}]}}}}}}},"BackendService":{"id":"BackendService","path":"SmartCampaignDesignerApp/BackendService","constructInfo":{"fqn":"@aws-cdk/aws-apprunner-alpha.Service","version":"2.236.0-alpha.0"},"children":{"AccessRole":{"id":"AccessRole","path":"SmartCampaignDesignerApp/BackendService/AccessRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"SmartCampaignDesignerApp/BackendService/AccessRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"build.apprunner.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SmartCampaignDesignerApp/BackendService/AccessRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"SmartCampaignDesignerApp/BackendService/AccessRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"ecr:GetAuthorizationToken","Effect":"Allow","Resource":"*"},{"Action":["ecr:BatchCheckLayerAvailability","ecr:GetDownloadUrlForLayer","ecr:BatchGetImage"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":ecr:us-east-1:034362076319:repository/cdk-hnb659fds-container-assets-034362076319-us-east-1"]]}},{"Action":"ecr:DescribeImages","Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":ecr:us-east-1:034362076319:repository/cdk-hnb659fds-container-assets-034362076319-us-east-1"]]}}],"Version":"2012-10-17"},"policyName":"BackendServiceAccessRoleDefaultPolicy693E3F3C","roles":[{"Ref":"BackendServiceAccessRole53E52076"}]}}}}}}},"Resource":{"id":"Resource","path":"SmartCampaignDesignerApp/BackendService/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apprunner.CfnService","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppRunner::Service","aws:cdk:cloudformation:props":{"instanceConfiguration":{"cpu":"1 vCPU","memory":"2 GB","instanceRoleArn":{"Fn::GetAtt":["AppRunnerInstanceRole96A5A063","Arn"]}},"networkConfiguration":{"egressConfiguration":{"egressType":"DEFAULT"}},"sourceConfiguration":{"authenticationConfiguration":{"accessRoleArn":{"Fn::GetAtt":["BackendServiceAccessRole53E52076","Arn"]}},"imageRepository":{"imageConfiguration":{"port":"8000","runtimeEnvironmentVariables":[{"name":"COGNITO_USER_POOL_ID","value":{"Fn::ImportValue":"SmartCampaignDesignerAuth:ExportsOutputRefUserPool6BA7E5F296FD7236"}},{"name":"COGNITO_APP_CLIENT_ID","value":{"Fn::ImportValue":"SmartCampaignDesignerAuth:ExportsOutputRefUserPoolWebAppClientCD2D5CB13BAB4F14"}},{"name":"COGNITO_REGION","value":"us-east-1"},{"name":"AWS_REGION","value":"us-east-1"},{"name":"BEDROCK_MODEL_ID","value":"anthropic.claude-3-sonnet-20240229-v1:0"}]},"imageIdentifier":{"Fn::Sub":"034362076319.dkr.ecr.us-east-1.${AWS::URLSuffix}/cdk-hnb659fds-container-assets-034362076319-us-east-1:211511c319a58295bd5c25c9f2d1448c1635702b9442c7d0b519b970fd8f70db"},"imageRepositoryType":"ECR"}}}}}}},"FrontendBucket":{"id":"FrontendBucket","path":"SmartCampaignDesignerApp/FrontendBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"SmartCampaignDesignerApp/FrontendBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"aws-cdk:cr-owned:48e9a30b","value":"true"}]}}},"Policy":{"id":"Policy","path":"SmartCampaignDesignerApp/FrontendBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"SmartCampaignDesignerApp/FrontendBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"FrontendBucketEFE2E19C"},"policyDocument":{"Statement":[{"Action":["s3:PutBucketPolicy","s3:GetBucket*","s3:List*","s3:DeleteObject*"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["FrontendBucketEFE2E19C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["FrontendBucketEFE2E19C","Arn"]},"/*"]]}]},{"Action":"s3:GetObject","Condition":{"StringEquals":{"AWS:SourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":cloudfront::",{"Ref":"AWS::AccountId"},":distribution/",{"Ref":"Distribution830FAC52"}]]}}},"Effect":"Allow","Principal":{"Service":"cloudfront.amazonaws.com"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["FrontendBucketEFE2E19C","Arn"]},"/*"]]}},{"Action":"s3:GetObject","Condition":{"StringEquals":{"AWS:SourceArn":{"Fn::Join":["",["arn:aws:cloudfront::034362076319:distribution/",{"Ref":"Distribution830FAC52"}]]}}},"Effect":"Allow","Principal":{"Service":"cloudfront.amazonaws.com"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["FrontendBucketEFE2E19C","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"SmartCampaignDesignerApp/FrontendBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.236.0"},"children":{"Default":{"id":"Default","path":"SmartCampaignDesignerApp/FrontendBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.236.0"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"SmartCampaignDesignerApp/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.236.0"},"children":{"Staging":{"id":"Staging","path":"SmartCampaignDesignerApp/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.236.0"}},"Role":{"id":"Role","path":"SmartCampaignDesignerApp/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.236.0"}},"Handler":{"id":"Handler","path":"SmartCampaignDesignerApp/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.236.0"}}}},"OAC":{"id":"OAC","path":"SmartCampaignDesignerApp/OAC","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.S3OriginAccessControl","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"SmartCampaignDesignerApp/OAC/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnOriginAccessControl","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::OriginAccessControl","aws:cdk:cloudformation:props":{"originAccessControlConfig":{"name":"SmartCampaignDesignerAppOAC57181B17","signingBehavior":"always","signingProtocol":"sigv4","originAccessControlOriginType":"s3"}}}}}},"Distribution":{"id":"Distribution","path":"SmartCampaignDesignerApp/Distribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.236.0"},"children":{"Origin1":{"id":"Origin1","path":"SmartCampaignDesignerApp/Distribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"}},"Origin2":{"id":"Origin2","path":"SmartCampaignDesignerApp/Distribution/Origin2","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"}},"Resource":{"id":"Resource","path":"SmartCampaignDesignerApp/Distribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":{"Fn::GetAtt":["FrontendBucketEFE2E19C","RegionalDomainName"]},"id":"SmartCampaignDesignerAppDistributionOrigin1F7645740","s3OriginConfig":{"originAccessIdentity":""},"originAccessControlId":{"Fn::GetAtt":["OAC5B452445","Id"]}},{"domainName":{"Fn::GetAtt":["BackendService9211F0EB","ServiceUrl"]},"id":"SmartCampaignDesignerAppDistributionOrigin23033B388","customOriginConfig":{"originSslProtocols":["TLSv1.2"],"originProtocolPolicy":"https-only"}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"SmartCampaignDesignerAppDistributionOrigin1F7645740","cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"viewerProtocolPolicy":"redirect-to-https"},"cacheBehaviors":[{"pathPattern":"/api/*","targetOriginId":"SmartCampaignDesignerAppDistributionOrigin23033B388","allowedMethods":["GET","HEAD","OPTIONS","PUT","PATCH","POST","DELETE"],"cachePolicyId":"4135ea2d-6df8-44a3-9df3-4b5a84be39ad","compress":true,"originRequestPolicyId":"b689b0a8-53d0-40ab-baf2-68738e2966ac","viewerProtocolPolicy":"https-only"}],"customErrorResponses":[{"errorCachingMinTtl":0,"errorCode":404,"responseCode":200,"responsePagePath":"/index.html"},{"errorCachingMinTtl":0,"errorCode":403,"responseCode":200,"responsePagePath":"/index.html"}],"defaultRootObject":"index.html","httpVersion":"http2","ipv6Enabled":true}}}}}},"DeployFrontend":{"id":"DeployFrontend","path":"SmartCampaignDesignerApp/DeployFrontend","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_deployment.BucketDeployment","version":"2.236.0"},"children":{"AwsCliLayer":{"id":"AwsCliLayer","path":"SmartCampaignDesignerApp/DeployFrontend/AwsCliLayer","constructInfo":{"fqn":"aws-cdk-lib.lambda_layer_awscli.AwsCliLayer","version":"2.236.0"},"children":{"Code":{"id":"Code","path":"SmartCampaignDesignerApp/DeployFrontend/AwsCliLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.236.0"},"children":{"Stage":{"id":"Stage","path":"SmartCampaignDesignerApp/DeployFrontend/AwsCliLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.236.0"}},"AssetBucket":{"id":"AssetBucket","path":"SmartCampaignDesignerApp/DeployFrontend/AwsCliLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.236.0"}}}},"Resource":{"id":"Resource","path":"SmartCampaignDesignerApp/DeployFrontend/AwsCliLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"content":{"s3Bucket":"cdk-hnb659fds-assets-034362076319-us-east-1","s3Key":"0cfdecad2260a3a84ad0c2d08a77e03c9d25e26c7b52f26b1e1faf97aef92f18.zip"},"description":"/opt/awscli/aws"}}}}},"CustomResourceHandler":{"id":"CustomResourceHandler","path":"SmartCampaignDesignerApp/DeployFrontend/CustomResourceHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.236.0"}},"Asset1":{"id":"Asset1","path":"SmartCampaignDesignerApp/DeployFrontend/Asset1","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.236.0"},"children":{"Stage":{"id":"Stage","path":"SmartCampaignDesignerApp/DeployFrontend/Asset1/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.236.0"}},"AssetBucket":{"id":"AssetBucket","path":"SmartCampaignDesignerApp/DeployFrontend/Asset1/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.236.0"}}}},"CustomResource":{"id":"CustomResource","path":"SmartCampaignDesignerApp/DeployFrontend/CustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.236.0"},"children":{"Default":{"id":"Default","path":"SmartCampaignDesignerApp/DeployFrontend/CustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.236.0"}}}}}},"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C":{"id":"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C","path":"SmartCampaignDesignerApp/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.236.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"SmartCampaignDesignerApp/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"SmartCampaignDesignerApp/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SmartCampaignDesignerApp/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.236.0"},"children":{"Resource":{"id":"Resource","path":"SmartCampaignDesignerApp/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::cdk-hnb659fds-assets-034362076319-us-east-1"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::cdk-hnb659fds-assets-034362076319-us-east-1/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["FrontendBucketEFE2E19C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["FrontendBucketEFE2E19C","Arn"]},"/*"]]}]},{"Action":["cloudfront:GetInvalidation","cloudfront:CreateInvalidation"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF","roles":[{"Ref":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265"}]}}}}}}},"Code":{"id":"Code","path":"SmartCampaignDesignerApp/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.236.0"},"children":{"Stage":{"id":"Stage","path":"SmartCampaignDesignerApp/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.236.0"}},"AssetBucket":{"id":"AssetBucket","path":"SmartCampaignDesignerApp/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.236.0"}}}},"Resource":{"id":"Resource","path":"SmartCampaignDesignerApp/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.236.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-034362076319-us-east-1","s3Key":"3423a042b818e31c1e34a19d6689ab2e5f9b70fcbe9e71df66f241b20a200bd9.zip"},"environment":{"variables":{"AWS_CA_BUNDLE":"/etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem"}},"handler":"index.handler","layers":[{"Ref":"DeployFrontendAwsCliLayerD774ED8F"}],"role":{"Fn::GetAtt":["CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265","Arn"]},"runtime":"python3.13","timeout":900}}}}},"CloudFrontURL":{"id":"CloudFrontURL","path":"SmartCampaignDesignerApp/CloudFrontURL","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"BackendURL":{"id":"BackendURL","path":"SmartCampaignDesignerApp/BackendURL","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"S3BucketName":{"id":"S3BucketName","path":"SmartCampaignDesignerApp/S3BucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.236.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"SmartCampaignDesignerApp/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"SmartCampaignDesignerApp/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.236.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"SmartCampaignDesignerApp/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.236.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"SmartCampaignDesignerApp/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.236.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"}}}}}