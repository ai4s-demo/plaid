*{margin:0;padding:0;box-sizing:border-box}:root{--primary: #2196f3;--primary-dark: #1976d2;--success: #4caf50;--warning: #ff9800;--error: #f44336;--bg: #f5f7fa;--surface: #ffffff;--text: #333333;--text-secondary: #666666;--border: #e0e0e0;--shadow: 0 2px 8px rgba(0, 0, 0, .1)}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;background:var(--bg);color:var(--text);line-height:1.5}.app{min-height:100vh;display:flex;flex-direction:column}.app-header{background:linear-gradient(135deg,var(--primary),var(--primary-dark));color:#fff;padding:1rem 2rem;text-align:center}.app-header h1{font-size:1.5rem;margin-bottom:.25rem}.app-header p{opacity:.9;font-size:.9rem}.error-banner{background:var(--error);color:#fff;padding:.75rem 2rem;display:flex;justify-content:space-between;align-items:center;cursor:pointer}.close-btn{background:none;border:none;color:#fff;font-size:1.25rem;cursor:pointer}.app-main{flex:1;display:grid;grid-template-columns:280px 1fr 360px;gap:1rem;padding:1rem;min-height:0;overflow:hidden}.sidebar{display:flex;flex-direction:column;gap:1rem}.content{background:var(--surface);border-radius:8px;box-shadow:var(--shadow);overflow-y:auto;overflow-x:hidden;padding:1rem;min-height:0}.plate-container{display:flex;justify-content:center;align-items:flex-start}.chat-sidebar{display:flex;flex-direction:column}.app-footer{background:var(--surface);border-top:1px solid var(--border);padding:.75rem;text-align:center;font-size:.8rem;color:var(--text-secondary)}.btn{padding:.5rem 1rem;border:none;border-radius:6px;font-size:.9rem;cursor:pointer;transition:all .2s}.btn:disabled{opacity:.5;cursor:not-allowed}.btn-send{background:var(--primary);color:#fff}.btn-send:hover:not(:disabled){background:var(--primary-dark)}.btn-stop{background:var(--error);color:#fff}.btn-secondary{background:var(--border);color:var(--text)}.btn-download{background:var(--surface);border:1px solid var(--border);width:100%;margin-bottom:.5rem}.btn-download:hover:not(:disabled){background:var(--bg)}.file-upload{background:var(--surface);border-radius:8px;box-shadow:var(--shadow);padding:1rem}.file-upload h3{margin-bottom:.75rem;font-size:1rem}.upload-zone{border:2px dashed var(--border);border-radius:8px;padding:2rem 1rem;text-align:center;transition:all .2s}.upload-zone.active{border-color:var(--primary);background:#2196f30d}.upload-zone:hover{border-color:var(--primary)}.file-input{display:none}.upload-label{display:flex;flex-direction:column;align-items:center;gap:.5rem;cursor:pointer}.upload-icon{font-size:2rem}.upload-hint{font-size:.8rem;color:var(--text-secondary)}.source-info{display:flex;flex-direction:column;gap:.5rem}.info-item{display:flex;justify-content:space-between}.info-item .label{color:var(--text-secondary)}.chat-panel{background:var(--surface);border-radius:8px;box-shadow:var(--shadow);display:flex;flex-direction:column;height:100%}.chat-header{padding:1rem;border-bottom:1px solid var(--border)}.chat-header h2{font-size:1rem}.chat-messages{flex:1;overflow-y:auto;padding:1rem;display:flex;flex-direction:column;gap:1rem}.chat-welcome{background:var(--bg);padding:1rem;border-radius:8px;font-size:.9rem}.chat-welcome ul{margin:.5rem 0 .5rem 1.5rem}.chat-message{display:flex;gap:.75rem;max-width:90%}.chat-message.user{align-self:flex-end;flex-direction:row-reverse}.chat-message.assistant{align-self:flex-start}.message-avatar{font-size:1.5rem}.message-content{background:var(--bg);padding:.75rem 1rem;border-radius:12px}.chat-message.user .message-content{background:var(--primary);color:#fff}.message-time{font-size:.7rem;color:var(--text-secondary);margin-top:.25rem}.chat-message.user .message-time{color:#ffffffb3}.typing-indicator{display:flex;gap:4px}.typing-indicator span{width:8px;height:8px;background:var(--text-secondary);border-radius:50%;animation:typing 1.4s infinite}.typing-indicator span:nth-child(2){animation-delay:.2s}.typing-indicator span:nth-child(3){animation-delay:.4s}@keyframes typing{0%,60%,to{transform:translateY(0)}30%{transform:translateY(-4px)}}.chat-input-form{display:flex;gap:.5rem;padding:1rem;border-top:1px solid var(--border)}.chat-input{flex:1;padding:.75rem;border:1px solid var(--border);border-radius:8px;font-size:.9rem}.chat-input:focus{outline:none;border-color:var(--primary)}.plate-view{display:flex;flex-direction:column;align-items:center}.plate-view.empty{display:flex;justify-content:center;align-items:center;min-height:400px}.plate-placeholder{text-align:center;color:var(--text-secondary)}.plate-placeholder span{font-size:4rem}.plate-header{display:flex;justify-content:space-between;align-items:center;width:100%;margin-bottom:1rem}.plate-header h3{font-size:1rem}.plate-info{font-size:.85rem;color:var(--text-secondary)}.plate-svg{cursor:default}.plate-legend{display:flex;flex-direction:column;gap:.5rem;margin-top:1rem;font-size:.8rem;width:100%}.legend-section{display:flex;flex-wrap:wrap;gap:.75rem}.legend-title{font-weight:500;margin-right:.5rem}.gene-legend{padding-top:.5rem;border-top:1px solid var(--border);display:flex;flex-wrap:wrap;gap:.5rem;max-height:none;overflow:visible}.legend-item{display:flex;align-items:center;gap:.25rem}.legend-color{width:14px;height:14px;border-radius:50%;border:1px solid rgba(0,0,0,.2);flex-shrink:0}.legend-more{color:var(--text-secondary);font-style:italic}.violations{margin-top:1rem;padding:.75rem;background:#fff3e0;border-radius:8px;width:100%}.violations h4{font-size:.9rem;margin-bottom:.5rem}.violation{font-size:.85rem;padding:.25rem 0}.violation.error{color:var(--error)}.violation.warning{color:var(--warning)}.drag-overlay{background:var(--primary);color:#fff;padding:.5rem 1rem;border-radius:4px;font-size:.85rem;box-shadow:var(--shadow)}.download-panel{background:var(--surface);border-radius:8px;box-shadow:var(--shadow);padding:1rem}.download-panel h3{margin-bottom:.75rem;font-size:1rem}.download-panel.disabled{opacity:.6}.download-panel .hint{font-size:.85rem;color:var(--text-secondary)}.download-buttons{display:flex;flex-direction:column}@media (max-width: 1200px){.app-main{grid-template-columns:1fr}.sidebar{flex-direction:row}.chat-sidebar{height:400px}}.message-layout{margin-top:.75rem;border:1px solid var(--border);border-radius:8px;overflow:hidden}.layout-header{display:flex;justify-content:space-between;align-items:center;padding:.5rem .75rem;background:var(--bg);cursor:pointer;font-size:.85rem;font-weight:500}.layout-header:hover{background:#e8e8e8}.layout-toggle{font-size:.75rem;color:var(--text-secondary)}.layout-preview{padding:.75rem;background:#fff;display:flex;flex-direction:column;align-items:center;gap:.5rem}.btn-select-layout{background:var(--primary);color:#fff;padding:.4rem .75rem;border:none;border-radius:4px;font-size:.8rem;cursor:pointer;transition:background .2s}.btn-select-layout:hover{background:var(--primary-dark)}.plate-view.compact{padding:0}.plate-view.compact .plate-svg{max-width:100%;height:auto}.auth-page{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:1rem}.auth-container{background:var(--surface);border-radius:12px;box-shadow:0 10px 40px #0003;padding:2rem;width:100%;max-width:400px}.auth-header{text-align:center;margin-bottom:2rem}.auth-header h1{font-size:1.5rem;margin-bottom:.5rem;color:var(--primary)}.auth-header p{color:var(--text-secondary);font-size:.9rem}.auth-error{background:#ffebee;color:var(--error);padding:.75rem 1rem;border-radius:8px;margin-bottom:1rem;font-size:.9rem}.auth-form h2{font-size:1.25rem;margin-bottom:1.5rem;text-align:center}.auth-hint{text-align:center;color:var(--text-secondary);font-size:.9rem;margin-bottom:1.5rem}.form-group{margin-bottom:1rem}.form-group label{display:block;margin-bottom:.5rem;font-size:.9rem;font-weight:500}.form-group input{width:100%;padding:.75rem;border:1px solid var(--border);border-radius:8px;font-size:1rem;transition:border-color .2s}.form-group input:focus{outline:none;border-color:var(--primary)}.form-error{color:var(--error);font-size:.8rem;margin-top:.25rem}.auth-form .btn-primary{width:100%;padding:.875rem;background:var(--primary);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:background .2s;margin-top:.5rem}.auth-form .btn-primary:hover:not(:disabled){background:var(--primary-dark)}.auth-form .btn-primary:disabled{opacity:.6;cursor:not-allowed}.auth-switch{text-align:center;margin-top:1.5rem;color:var(--text-secondary);font-size:.9rem}.auth-switch button{background:none;border:none;color:var(--primary);cursor:pointer;font-size:.9rem;margin-left:.25rem}.auth-switch button:hover{text-decoration:underline}.loading-screen{min-height:100vh;display:flex;align-items:center;justify-content:center;background:var(--bg)}.loading-content{text-align:center}.loading-icon{font-size:4rem;animation:pulse 1.5s infinite}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}.app-header{display:flex;justify-content:space-between;align-items:center}.header-right{display:flex;align-items:center;gap:1rem}.user-info{display:flex;align-items:center;gap:.75rem;background:#ffffff1a;padding:.5rem 1rem;border-radius:20px}.user-info span{font-size:.9rem}.btn-logout{background:#fff3;color:#fff;border:none;padding:.25rem .75rem;border-radius:4px;font-size:.8rem;cursor:pointer;transition:background .2s}.btn-logout:hover{background:#ffffff4d}
